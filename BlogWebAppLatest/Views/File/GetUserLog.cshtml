@using BlogWebApp.ViewModel
@model IEnumerable<BlogFileInfo>
@* @model BlogVM; *@
@{
    Layout = "_AdminLayout";
    ViewData["Title"] = "Blog Log";
}
<style>
    /*   .image-picker-div {
            display: none;
        } */
</style>

<section class="section">
    <div class="row justify-content-center">
        <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                    <div class="table-responsive">
                     <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th>File Name</th>
                                <th>Blog Title</th>
                                <th>Date</th>
                                <th> Download</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var fileInfo in Model)
                            {
                                <tr>
                                    <td>@fileInfo.FileName</td>
                                    <td>@fileInfo.BlogTitle</td>
                                    <td>@fileInfo.Date</td>
                                        <td><a href="/BlogLogs/@fileInfo.Url" download> <i class="bi bi-arrow-down-circle-fill"></i></a></td>
                                </tr>
                            }
                        </tbody>
                    </table>
               
         </div>
        </div>
        </div>
    </div>
</section>

<link href="~/toastr/css/toastr.css" rel="stylesheet" />

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.2.8/js/fileinput.min.js"></script>

<script src="~/toastr/js/toastr.js"></script>

<script type="text/javascript">

            async function SaveBlogLogFile(modeldata, category) {
                var model = {
                    Title: modeldata.Title,
                    Body: modeldata.Body,
                    CategoryName: category,
                    Action: "Blog Updated"
                }
                // SaveBlogFile
                await $.ajax({
                    url: '/File/SaveBlogFile',
                    type: 'POST',
                    data: model,
                    success: function (response) {
                        console.log("log Saved");
                    },
                    error: function (xhr, status, error) {
                        console.log("Error to Save log");
                    }
                });
            }
        });

</script>


